{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="The Book Guild is a well-established independent book publishing company which has been publishing books for over 30 years. We have an eclectic offering, ..."/>
    <link rel="shortcut icon" type="image/jpg" href="{% static 'images/favicon.jpg' %}"/>

    <!-- Page Title -->
    {% if title %}
    <title>The Book Guild Ltd - {{title}}</title>
    {% else %}
    <title>The Book Guild Ltd</title>
    {% endif %}
    <!-- CSS Stylesheet -->
    <link rel="stylesheet" href="{% static 'css/main.css' %}">

    <!-- Font Awesome CSS -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.1/css/all.css" integrity="sha384-vp86vTRFVJgpjF9jiIGPEEqYqlDwgyBgEF109VFjmqGmIY/Y4HV4d3Gp2irVfcrp" crossorigin="anonymous">

    <!-- Custom Font -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,700;1,400&family=Open+Sans:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">

    <script type="text/javascript">

      // GETS COOKIES FOR CURRENT WEB PAGE
      function getCookie(name) {
          let cookieValue = null;
          if (document.cookie && document.cookie !== '') {
              const cookies = document.cookie.split(';');
              for (let i = 0; i < cookies.length; i++) {
                  const cookie = cookies[i].trim();
                  // Does this cookie string begin with the name we want?
                  if (cookie.substring(0, name.length + 1) === (name + '=')) {
                      cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                      break;
                  }
              }
          }
          return cookieValue;
      }

      // GENERATES RANDOM DEVICE TOKEN
      function uuidv4() {
        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
          var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
          return v.toString(16);
        });
      }


      
      // FINDS EXISTING COOKIE CALLED DEVICE
      let device = getCookie('device')

      // IF NO DEVICE COOKIE FOUND THEN ONE IS MADE
      if (device == null || device == undefined) {
        device = uuidv4()
      }

      document.cookie = 'device=' + device + ";domain=;path=/"

      var csrftoken = getCookie('csrftoken');

    </script>
</head>

<!-- FLASH MESSAGES -->
{% if messages %}
{% for message in messages %}
  <div class="text-center alert alert-{{ message.tags }}">
    {{ message }}
  </div>
{% endfor %}
{% endif %}


{% block content %}
{% endblock %}

<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="{% static 'js/jquery.min.js' %}"></script>
<script src="{% static 'js/popper.min.js' %}"></script>
<script src="{% static 'js/bootstrap.min.js' %}"></script>
<!-- AOC JavaScript -->
<script src="{% static 'js/aoc.js' %}"></script>
<script>AOS.init({
  duration: 1300,
  offset: 200
});</script> 
<!-- BOOTSTRAP POPOVERS -->
<script>
  $(document).ready(function(){
      $('[data-toggle="popover"]').popover();
  });
</script>

</body>
</html>